Just a lot of math for smooth lighting. This project also allows you to manually change the lighting.
